<head>
  <!-- Numeric.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  
  <!-- Integrate inline, for copying over to BFGO <script src="BFGO-visualistions.1.js"></script> -->
</head>

<body>
  Revision 9<br><br>
  <div id="outputbloom" style="width: 600px; height: 600;"></div>
  
  <script>
    // The number of projects in the CRA
    var projects = 6;
    
    // Columns fixed by table definition; 
    //Project Abbreviation,
    //Project Name,
    //Research Outputs (papers/datasets), 
    // In Person Engagements (trainings, conference presentations)
    //Remote/Distributed Engagement (press mentions)
    var columns = 5;
    
    //This array should be populated from BFGO data
    var outputbloomdata = [
      ["PROJ1","Project One",15,6,30]
      ["PROJ2","Project Two",25,12,12]
      ["PROJ3","Project Three",5,18,36]
      ["PROJ4","Project Four",20,21,6]
      ["PROJ5","Project Five",10,9,24]
      ["PROJ6","Project Six",30,15,18]
    ];
    
  var rdata = [];
  var tdata = [];
  for (var i = 0; i < columns; i++){
    rdata[i] = outputbloomdata[2][i];
    tdata[i] = outputbloomdata[1][i];
  }    
  var research = {
  r: rdata,
  t: tdata,
  name: 'Academic Publications and Datasets',
  marker: {color: 'rgb(0,85,104)'},
  type: 'area'
};

  var rdata = [];
  var tdata = [];
  for (var i = 0; i < columns; i++){
    rdata[i] = outputbloomdata[3][i];
    tdata[i] = outputbloomdata[1][i];
  } 
var inperson = {
  r: rdata,
  t: tdata,
  name: 'Presentations and Trainings',
  marker: {color: 'rgb(9,130,144)'},
  type: 'area'
};
                                                    
    var rdata = [];
  var tdata = [];
  for (var i = 0; i < columns; i++){
    rdata[i] = outputbloomdata[4][i];
    tdata[i] = outputbloomdata[1][i];
  }                                                     
var remote = {
  r: rdata,
  t: tdata,
  name: 'Website Traffic and External Discussion',
  marker: {color: 'rgb(75,181,197)'},
  type: 'area'
};
                                                    


var data = [research, inperson, remote];

var layout = {
  title: 'Output Bloom',
  font: {size: 6},
  legend: {font: {size: 6}},
  barmode: "stack",
  radialaxis: {visible: "false"},
  orientation: 270
};

Plotly.newPlot('outputbloom', data, layout);
  </script>
</body>
