<head>
  <!-- Numeric.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  
  <!-- Integrate inline, for copying over to BFGO <script src="BFGO-visualistions.1.js"></script> -->
</head>

<body>
  <!-- Revision 10 updated 31 Oct 17<br><br> -->
  
  <div id="outputbloom" style="width: 600px; height: 600;"></div>
  
  <script>
    // The number of projects in the CRA
    var projects = 6;
    
    // Columns fixed by table definition; 
    //Project Abbreviation,
    //Project Name,
    //People (currently unpopulated/not revealed/unimplemented)
    //Research Outputs (papers/datasets), 
    // In Person Engagements (trainings, conference presentations)
    //Remote/Distributed Engagement (press mentions)
    var columns = 5;
    
    //This array should be populated from BFGO data
    function BFGOoutputdata() {
      var outputdata = [
      ["PROJ1","Project One",0,15,6,30],
      ["PROJ2","Project Two",0,25,12,12],
      ["PROJ3","Project Three",0,5,18,36],
      ["PROJ4","Project Four",0,20,21,6],
      ["PROJ5","Project Five",0,10,9,24],
      ["PROJ6","Project Six",0,30,15,18]
        ];
      return outputdata;
    }

  var outputbloomdata = BFGOoutputdata();
  var rdata = [];
  var tdata = [];
  for (var i = 0; i <= columns; i++){
    rdata[i] = outputbloomdata[i][3];
    tdata[i] = outputbloomdata[i][1];
  }    
  var research = {
  r: rdata,
  t: tdata,
  name: 'Academic Publications and Datasets',
  marker: {color: 'rgb(0,85,104)'},
  type: 'area'
};

  var rdata = [];
  var tdata = [];
  for (var i = 0; i <= columns; i++){
    rdata[i] = outputbloomdata[i][4];
    tdata[i] = outputbloomdata[i][1];
  } 
var inperson = {
  r: rdata,
  t: tdata,
  name: 'Presentations and Trainings',
  marker: {color: 'rgb(9,130,144)'},
  type: 'area'
};
                                                    
    var rdata = [];
  var tdata = [];
  for (var i = 0; i <= columns; i++){
    rdata[i] = outputbloomdata[i][5];
    tdata[i] = outputbloomdata[i][1];
  }                                                     
var remote = {
  r: rdata,
  t: tdata,
  name: 'Website Traffic and External Discussion',
  marker: {color: 'rgb(75,181,197)'},
  type: 'area'
};
                                                    


var data = [research, inperson, remote];

var layout = {
  title: 'Output Bloom',
  font: {size: 6},
  legend: {font: {size: 6}},
  hovermode: "closest",
  barmode: "stack",
  radialaxis: {
    visible: false, 
    showgrid: false,
    showline: false,
    zeroline: false,
    showspikes: false,
    ticks: ""
  },
  angularaxis: {
    visible: false, 
    showgrid: false,
    showline: false,
    zeroline: false,
    showspikes: false,
    ticks: ""
  },
  yaxis: {
    visible: false, 
    showgrid: false,
    showline: false,
    zeroline: false,
    showspikes: false,
    ticks: ""
  },
  xaxis: {
    visible: false, 
    showgrid: false,
    showline: false,
    zeroline: false,
    showspikes: false,
    ticks: ""
  },
  orientation: 270
};

Plotly.newPlot('outputbloom', data, layout);
  </script>
</body>
